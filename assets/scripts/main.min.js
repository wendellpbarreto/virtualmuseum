(function() {
    var clickable = {
        elements: document.querySelectorAll('[data-href]'),

        redirect_to: function(href, target) {
            target = target || "";
            clickable.simulate_anchor(href, target);
        },

        simulate_anchor: function(href, target) {
            var anchor = document.createElement("a");
            anchor.setAttribute('href', href);
            anchor.setAttribute('target', target);
            anchor.click();
        },

        init: function() {
            for (var i = 0; i < this.elements.length; i++) {
                var element = this.elements[i];
                element.style.cursor = 'pointer';
                element.addEventListener('click', function() {
                    clickable.redirect_to(
                        this.getAttribute('data-href'),
                        this.getAttribute('data-target')
                    );
                }, false);
            }
        }
    };

    clickable.init();
})();
var carousel = $('#carousel');
var serverCarousel = $('.server__carousel');

/*
 *
 * Foundation
 * --------------------------------*/
 $(document).foundation({
    tab: {
      callback : function (tab) {
        var carousel = $('.server__carousel').data('owlCarousel');
        carousel._width = $('.server__carousel').width();
        carousel.invalidate('width');
        carousel.refresh();
      }
    }
  });

/*
 *
 * Document ready
 * --------------------------------*/
 $(document).ready(function(){

	// Carousels
    var postsCarouselCrop = $('.posts__carousel-crop');
	var postsCarouselCategory = $('.posts__carousel-category');
	var postsCarouselTitle = $('.posts__carousel-title');
	var photogalleryCarouselCrop = $('.photogallery__carousel-crop');
	var photogalleryCarouselTitle = $('.photogallery__carousel-title');

	carousel.owlCarousel({
		items: 1,
        lazyLoad: true,
        autoplay: true,
        loop: true,
        // animateOut: 'fadeOut',
        // animateIn: 'fadeIn',
    });
	$('.carousel__control-anchor.prev').click(function() {
		carousel.trigger('prev.owl.carousel');
	});
	$('.carousel__control-anchor.next').click(function() {
		carousel.trigger('next.owl.carousel');
	});



	$('#carousel').mouseenter(function() {
		$('.carousel__control-anchor.prev').removeClass('fadeOutLeft');
		$('.carousel__control-anchor.prev').addClass('fadeInLeft');
		$('.carousel__control-anchor.next').removeClass('fadeOutRight');
		$('.carousel__control-anchor.next').addClass('fadeInRight');
	}).mouseleave(function(){
		$('.carousel__control-anchor.prev').removeClass('fadeInLeft');
		$('.carousel__control-anchor.prev').addClass('fadeOutLeft');
		$('.carousel__control-anchor.next').removeClass('fadeInRight');
		$('.carousel__control-anchor.next').addClass('fadeOutRight');
	});

    serverCarousel.owlCarousel({
        items: 1,
        lazyLoad: true,
        autoplay: true,
        loop: true,
        animateOut: 'fadeOut',
        animateIn: 'fadeIn',
    });


	// Tabs anchor
    var anchor = document.URL.indexOf("#");
    if (anchor != -1) {
        var hash = document.URL.substring(anchor + 1);
        $(".tabs").children("dd").each(function() {
            var id = $(this).find("a").attr("href").substring(1);
            var $container = $(".content#" + id);
            $(this).removeClass("active");
            $container.removeClass("active");
            if (id == hash) {
                $(this).addClass("active");
                $container.addClass("active");
                console.log($container)
            }
        });
    }
});

var engineSubmenu = function(anchor) {
    var navbarSubmenu = $('.navbar__submenu');
    var searchForm = $('.navbar__search');
    var searchFormInput = $('.navbar__search input');
    var searchFormButton = $('.navbar__search-button');
    var submenu;

    if (typeof anchor == 'undefined') {
        anchor = $('[data-submenu]');
        submenu = $('.submenu');
    } else {
        submenu = $('#' + anchor.attr('data-submenu'));
    }

    navbarSubmenu.stop();
    searchForm.stop();
    searchFormButton.stop();
    searchFormInput.stop();

    if (anchor.hasClass('active')) {
        anchor.removeClass('active');
        searchForm.removeClass('closed');

        navbarSubmenu.animate({ width: 3 }, 1500);
        searchForm.animate({ width: '40%' }, 1500);
        searchFormButton.animate({ width: '20%' }, 1500).queue(function(){
            searchFormInput.show();
            $(this).dequeue();
        }).queue(function(){
            submenu.hide();
            $(this).dequeue();
        });
    } else {
        anchor.addClass('active');
        searchForm.addClass('closed');

        searchFormInput.hide();
        searchFormButton.animate({ width: '100%' }, 1500);
        searchForm.animate({ width: '10%' }, 1500);
        navbarSubmenu.animate({ width: '88%' }, 1500);
        submenu.show();
    }
}

$(document).on('click', '[data-submenu]', function(ev) {
	ev.preventDefault();

    engineSubmenu($(this));
});

$(document).on('click', '.submenu__anchor', function(ev) {
    var anchor = document.URL.indexOf("#");
    if (anchor != -1) {
        var hash = document.URL.substring(anchor + 1);
        $(".tabs").children("dd").each(function() {
            var id = $(this).find("a").attr("href").substring(1);
            var $container = $(".content#" + id);
            $(this).removeClass("active");
            $container.removeClass("active");
            if (id == hash) {
                $(this).addClass("active");
                $container.addClass("active");
                console.log($container)
            }
        });
    }

    $('html, body').animate({
        scrollTop: $('body').offset().top
    }, 1);
});

$(document).on('submit', '.navbar__search.closed', function(ev){
    ev.preventDefault();

    engineSubmenu();
    $('#s').focus();

    return false;
})

$(document).on({
    mouseenter: function () {
        $(this).children('.servers__box').addClass('animated flipInX');
    },
    mouseleave: function () {
        $(this).children('.servers__box').removeClass('animated flipInX');
    }
}, '.servers__list-item');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWNrYWJsZS5qcyIsIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNsaWNrYWJsZSA9IHtcbiAgICAgICAgZWxlbWVudHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWhyZWZdJyksXG5cbiAgICAgICAgcmVkaXJlY3RfdG86IGZ1bmN0aW9uKGhyZWYsIHRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IFwiXCI7XG4gICAgICAgICAgICBjbGlja2FibGUuc2ltdWxhdGVfYW5jaG9yKGhyZWYsIHRhcmdldCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ltdWxhdGVfYW5jaG9yOiBmdW5jdGlvbihocmVmLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsIHRhcmdldCk7XG4gICAgICAgICAgICBhbmNob3IuY2xpY2soKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZS5yZWRpcmVjdF90byhcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWhyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNsaWNrYWJsZS5pbml0KCk7XG59KSgpOyIsInZhciBjYXJvdXNlbCA9ICQoJyNjYXJvdXNlbCcpO1xudmFyIHNlcnZlckNhcm91c2VsID0gJCgnLnNlcnZlcl9fY2Fyb3VzZWwnKTtcblxuLypcbiAqXG4gKiBGb3VuZGF0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gJChkb2N1bWVudCkuZm91bmRhdGlvbih7XG4gICAgdGFiOiB7XG4gICAgICBjYWxsYmFjayA6IGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgICAgdmFyIGNhcm91c2VsID0gJCgnLnNlcnZlcl9fY2Fyb3VzZWwnKS5kYXRhKCdvd2xDYXJvdXNlbCcpO1xuICAgICAgICBjYXJvdXNlbC5fd2lkdGggPSAkKCcuc2VydmVyX19jYXJvdXNlbCcpLndpZHRoKCk7XG4gICAgICAgIGNhcm91c2VsLmludmFsaWRhdGUoJ3dpZHRoJyk7XG4gICAgICAgIGNhcm91c2VsLnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4vKlxuICpcbiAqIERvY3VtZW50IHJlYWR5XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuXHQvLyBDYXJvdXNlbHNcbiAgICB2YXIgcG9zdHNDYXJvdXNlbENyb3AgPSAkKCcucG9zdHNfX2Nhcm91c2VsLWNyb3AnKTtcblx0dmFyIHBvc3RzQ2Fyb3VzZWxDYXRlZ29yeSA9ICQoJy5wb3N0c19fY2Fyb3VzZWwtY2F0ZWdvcnknKTtcblx0dmFyIHBvc3RzQ2Fyb3VzZWxUaXRsZSA9ICQoJy5wb3N0c19fY2Fyb3VzZWwtdGl0bGUnKTtcblx0dmFyIHBob3RvZ2FsbGVyeUNhcm91c2VsQ3JvcCA9ICQoJy5waG90b2dhbGxlcnlfX2Nhcm91c2VsLWNyb3AnKTtcblx0dmFyIHBob3RvZ2FsbGVyeUNhcm91c2VsVGl0bGUgPSAkKCcucGhvdG9nYWxsZXJ5X19jYXJvdXNlbC10aXRsZScpO1xuXG5cdGNhcm91c2VsLm93bENhcm91c2VsKHtcblx0XHRpdGVtczogMSxcbiAgICAgICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAvLyBhbmltYXRlT3V0OiAnZmFkZU91dCcsXG4gICAgICAgIC8vIGFuaW1hdGVJbjogJ2ZhZGVJbicsXG4gICAgfSk7XG5cdCQoJy5jYXJvdXNlbF9fY29udHJvbC1hbmNob3IucHJldicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdGNhcm91c2VsLnRyaWdnZXIoJ3ByZXYub3dsLmNhcm91c2VsJyk7XG5cdH0pO1xuXHQkKCcuY2Fyb3VzZWxfX2NvbnRyb2wtYW5jaG9yLm5leHQnKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHRjYXJvdXNlbC50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcpO1xuXHR9KTtcblxuXG5cblx0JCgnI2Nhcm91c2VsJykubW91c2VlbnRlcihmdW5jdGlvbigpIHtcblx0XHQkKCcuY2Fyb3VzZWxfX2NvbnRyb2wtYW5jaG9yLnByZXYnKS5yZW1vdmVDbGFzcygnZmFkZU91dExlZnQnKTtcblx0XHQkKCcuY2Fyb3VzZWxfX2NvbnRyb2wtYW5jaG9yLnByZXYnKS5hZGRDbGFzcygnZmFkZUluTGVmdCcpO1xuXHRcdCQoJy5jYXJvdXNlbF9fY29udHJvbC1hbmNob3IubmV4dCcpLnJlbW92ZUNsYXNzKCdmYWRlT3V0UmlnaHQnKTtcblx0XHQkKCcuY2Fyb3VzZWxfX2NvbnRyb2wtYW5jaG9yLm5leHQnKS5hZGRDbGFzcygnZmFkZUluUmlnaHQnKTtcblx0fSkubW91c2VsZWF2ZShmdW5jdGlvbigpe1xuXHRcdCQoJy5jYXJvdXNlbF9fY29udHJvbC1hbmNob3IucHJldicpLnJlbW92ZUNsYXNzKCdmYWRlSW5MZWZ0Jyk7XG5cdFx0JCgnLmNhcm91c2VsX19jb250cm9sLWFuY2hvci5wcmV2JykuYWRkQ2xhc3MoJ2ZhZGVPdXRMZWZ0Jyk7XG5cdFx0JCgnLmNhcm91c2VsX19jb250cm9sLWFuY2hvci5uZXh0JykucmVtb3ZlQ2xhc3MoJ2ZhZGVJblJpZ2h0Jyk7XG5cdFx0JCgnLmNhcm91c2VsX19jb250cm9sLWFuY2hvci5uZXh0JykuYWRkQ2xhc3MoJ2ZhZGVPdXRSaWdodCcpO1xuXHR9KTtcblxuICAgIHNlcnZlckNhcm91c2VsLm93bENhcm91c2VsKHtcbiAgICAgICAgaXRlbXM6IDEsXG4gICAgICAgIGxhenlMb2FkOiB0cnVlLFxuICAgICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgYW5pbWF0ZU91dDogJ2ZhZGVPdXQnLFxuICAgICAgICBhbmltYXRlSW46ICdmYWRlSW4nLFxuICAgIH0pO1xuXG5cblx0Ly8gVGFicyBhbmNob3JcbiAgICB2YXIgYW5jaG9yID0gZG9jdW1lbnQuVVJMLmluZGV4T2YoXCIjXCIpO1xuICAgIGlmIChhbmNob3IgIT0gLTEpIHtcbiAgICAgICAgdmFyIGhhc2ggPSBkb2N1bWVudC5VUkwuc3Vic3RyaW5nKGFuY2hvciArIDEpO1xuICAgICAgICAkKFwiLnRhYnNcIikuY2hpbGRyZW4oXCJkZFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5maW5kKFwiYVwiKS5hdHRyKFwiaHJlZlwiKS5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICB2YXIgJGNvbnRhaW5lciA9ICQoXCIuY29udGVudCNcIiArIGlkKTtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAkY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgaWYgKGlkID09IGhhc2gpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJGNvbnRhaW5lcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbnZhciBlbmdpbmVTdWJtZW51ID0gZnVuY3Rpb24oYW5jaG9yKSB7XG4gICAgdmFyIG5hdmJhclN1Ym1lbnUgPSAkKCcubmF2YmFyX19zdWJtZW51Jyk7XG4gICAgdmFyIHNlYXJjaEZvcm0gPSAkKCcubmF2YmFyX19zZWFyY2gnKTtcbiAgICB2YXIgc2VhcmNoRm9ybUlucHV0ID0gJCgnLm5hdmJhcl9fc2VhcmNoIGlucHV0Jyk7XG4gICAgdmFyIHNlYXJjaEZvcm1CdXR0b24gPSAkKCcubmF2YmFyX19zZWFyY2gtYnV0dG9uJyk7XG4gICAgdmFyIHN1Ym1lbnU7XG5cbiAgICBpZiAodHlwZW9mIGFuY2hvciA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBhbmNob3IgPSAkKCdbZGF0YS1zdWJtZW51XScpO1xuICAgICAgICBzdWJtZW51ID0gJCgnLnN1Ym1lbnUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdWJtZW51ID0gJCgnIycgKyBhbmNob3IuYXR0cignZGF0YS1zdWJtZW51JykpO1xuICAgIH1cblxuICAgIG5hdmJhclN1Ym1lbnUuc3RvcCgpO1xuICAgIHNlYXJjaEZvcm0uc3RvcCgpO1xuICAgIHNlYXJjaEZvcm1CdXR0b24uc3RvcCgpO1xuICAgIHNlYXJjaEZvcm1JbnB1dC5zdG9wKCk7XG5cbiAgICBpZiAoYW5jaG9yLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICBhbmNob3IucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBzZWFyY2hGb3JtLnJlbW92ZUNsYXNzKCdjbG9zZWQnKTtcblxuICAgICAgICBuYXZiYXJTdWJtZW51LmFuaW1hdGUoeyB3aWR0aDogMyB9LCAxNTAwKTtcbiAgICAgICAgc2VhcmNoRm9ybS5hbmltYXRlKHsgd2lkdGg6ICc0MCUnIH0sIDE1MDApO1xuICAgICAgICBzZWFyY2hGb3JtQnV0dG9uLmFuaW1hdGUoeyB3aWR0aDogJzIwJScgfSwgMTUwMCkucXVldWUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlYXJjaEZvcm1JbnB1dC5zaG93KCk7XG4gICAgICAgICAgICAkKHRoaXMpLmRlcXVldWUoKTtcbiAgICAgICAgfSkucXVldWUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHN1Ym1lbnUuaGlkZSgpO1xuICAgICAgICAgICAgJCh0aGlzKS5kZXF1ZXVlKCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFuY2hvci5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHNlYXJjaEZvcm0uYWRkQ2xhc3MoJ2Nsb3NlZCcpO1xuXG4gICAgICAgIHNlYXJjaEZvcm1JbnB1dC5oaWRlKCk7XG4gICAgICAgIHNlYXJjaEZvcm1CdXR0b24uYW5pbWF0ZSh7IHdpZHRoOiAnMTAwJScgfSwgMTUwMCk7XG4gICAgICAgIHNlYXJjaEZvcm0uYW5pbWF0ZSh7IHdpZHRoOiAnMTAlJyB9LCAxNTAwKTtcbiAgICAgICAgbmF2YmFyU3VibWVudS5hbmltYXRlKHsgd2lkdGg6ICc4OCUnIH0sIDE1MDApO1xuICAgICAgICBzdWJtZW51LnNob3coKTtcbiAgICB9XG59XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1zdWJtZW51XScsIGZ1bmN0aW9uKGV2KSB7XG5cdGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBlbmdpbmVTdWJtZW51KCQodGhpcykpO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc3VibWVudV9fYW5jaG9yJywgZnVuY3Rpb24oZXYpIHtcbiAgICB2YXIgYW5jaG9yID0gZG9jdW1lbnQuVVJMLmluZGV4T2YoXCIjXCIpO1xuICAgIGlmIChhbmNob3IgIT0gLTEpIHtcbiAgICAgICAgdmFyIGhhc2ggPSBkb2N1bWVudC5VUkwuc3Vic3RyaW5nKGFuY2hvciArIDEpO1xuICAgICAgICAkKFwiLnRhYnNcIikuY2hpbGRyZW4oXCJkZFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5maW5kKFwiYVwiKS5hdHRyKFwiaHJlZlwiKS5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICB2YXIgJGNvbnRhaW5lciA9ICQoXCIuY29udGVudCNcIiArIGlkKTtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAkY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgaWYgKGlkID09IGhhc2gpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJGNvbnRhaW5lcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6ICQoJ2JvZHknKS5vZmZzZXQoKS50b3BcbiAgICB9LCAxKTtcbn0pO1xuXG4kKGRvY3VtZW50KS5vbignc3VibWl0JywgJy5uYXZiYXJfX3NlYXJjaC5jbG9zZWQnLCBmdW5jdGlvbihldil7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgIGVuZ2luZVN1Ym1lbnUoKTtcbiAgICAkKCcjcycpLmZvY3VzKCk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59KVxuXG4kKGRvY3VtZW50KS5vbih7XG4gICAgbW91c2VlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCcuc2VydmVyc19fYm94JykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZsaXBJblgnKTtcbiAgICB9LFxuICAgIG1vdXNlbGVhdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbignLnNlcnZlcnNfX2JveCcpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCBmbGlwSW5YJyk7XG4gICAgfVxufSwgJy5zZXJ2ZXJzX19saXN0LWl0ZW0nKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=